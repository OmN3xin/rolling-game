var Movement=pc.createScript("movement");Movement.attributes.add("speed",{type:"number",default:.3,min:.05,max:.5,precision:2,description:"Controls the movement speed"}),Movement.prototype.initialize=function(){this.force=new pc.Vec3},Movement.prototype.update=function(e){var t=0,s=0;if(this.app.keyboard.isPressed(pc.KEY_LEFT)&&(t=-this.speed),this.app.keyboard.isPressed(pc.KEY_RIGHT)&&(t+=this.speed),this.app.keyboard.isPressed(pc.KEY_UP)&&(s=-this.speed),this.app.keyboard.isPressed(pc.KEY_DOWN)&&(s+=this.speed),this.force.x=t,this.force.z=s,this.force.length()){var i=Math.cos(.25*-Math.PI),o=Math.sin(.25*-Math.PI);this.force.set(this.force.x*i-this.force.z*o,0,this.force.z*i+this.force.x*o),this.force.length()>this.speed&&this.force.normalize().scale(this.speed)}this.entity.rigidbody.applyImpulse(this.force)};var Collectable=pc.createScript("collectable");Collectable.prototype.initialize=function(){this.entity.collision.on("triggerenter",this.OnTriggerEnter,this)},Collectable.prototype.update=function(t){},setInterval((function(){}),50),Collectable.prototype.OnTriggerEnter=function(t){this.app.fire("score",this.entity),this.entity.enabled=!1};var Score=pc.createScript("score"),cScore=0,collecatles=11;Score.prototype.initialize=function(){this.app.on("score",addScore,this)},Score.prototype.update=function(e){};var addScore=function(){(cScore+=1)!=collecatles?this.entity.element.text=cScore:this.entity.element.text="you Win!"};var player,Cam=pc.createScript("cam");Cam.prototype.initialize=function(){player=this.app.root.findByName("player")},Cam.prototype.update=function(t){this.entity.setPosition(this.app.root.findByName("Player").getPosition().x,this.entity.getPosition().y,this.entity.getPosition().z)};